<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<title>Assignment 5: DOM Play</title>
	<meta http-equiv="content-type" content="text/html; charset=utf-8" />
	<meta name="robots" content="noindex, nofollow" />
	<script src="include/util.js" type="text/javascript"></script><!-- utility file of handy JS functions -->
	<link rel="stylesheet" type="text/css" href="include/styles.css" /><!-- optional stylesheet reference -->
	<style type="text/css">
		.bolded {
			font-weight: bold;
		}
	</style>
<script type="text/javascript">
		allPTags = []; // This is on purpose. I want it to be global.
		actorTags = {"LAERTES":[], "OPHELIA":[], "LORD POLONIUS":[]}; // This too.
		/*
		As an aside, the actor names could have been found by a function looping through the 
		<p>s looking for unique, all-caps tags, then used to create the partially-empty actorTags 
		object. This would be more versatile, but would also make the page load a little slower.
		*/		
		function startup() {
			// Now that the body's loaded, we can access the <p>s!
			allPTags = document.getElementsByTagName("p");
			// Modify actorTags to store <p> indices.
			for (i=0;i<allPTags.length;i++) {
				textP = allPTags[i].innerHTML;
				if (textP in actorTags) { // Do the strings match?
					actorTags[textP].push(i);
				}
			}
		}
		
		function myHandler(myObj) {
			var searchText = myObj.innerHTML; //store the actor's name
			// Clear bold style from all <p>s.
			for (i=0;i<allPTags.length;i++) {
				allPTags[i].setAttribute("class","");
			}
			// Now add bold style (via a class) to the actor's lines!
			for (j=0;j<actorTags[searchText].length;j++) {
				allPTags[actorTags[searchText][j]+1].setAttribute("class","bolded");
			}
		}
		
		// Optional function for just removing all the bold.
		function clearItAll() {
			for (i=0;i<allPTags.length;i++) {
				allPTags[i].setAttribute("class","");
			}
		}
		
		addOnload(startup);
</script>
</head>

<body>
<h3 align="center">Assignment 5: DOM Play</h3>
<p>Hello, actor! Click on any character's name to bold all of their lines, or 
<a href="javascript:void(0)" onclick="clearItAll()">click me</a> to remove all the bold
formatting!
</p>
<h2 align="center">A Scene From Hamlet</h2>
SCENE III. A room in Polonius' house.
<p> Enter LAERTES and OPHELIA </p>
<p onclick="myHandler(this)">LAERTES</p>
<p> My necessaries are embark'd: farewell:<br />
  And, sister, as the winds give benefit<br />
  And convoy is assistant, do not sleep,<br />
  But let me hear from you.</p>
<p onclick="myHandler(this)">OPHELIA</p>
<p> Do you doubt that?</p>
<p onclick="myHandler(this)">LAERTES</p>
<p> For Hamlet and the trifling of his favour,<br />
  Hold it a fashion and a toy in blood,<br />
  A violet in the youth of primy nature,<br />
  Forward, not permanent, sweet, not lasting,<br />
  The perfume and suppliance of a minute; No more.</p>
<p onclick="myHandler(this)">OPHELIA</p>
<p> No more but so?</p>
<p onclick="myHandler(this)">LAERTES</p>
<p> Think it no more;<br />
  For nature, crescent, does not grow alone<br />
  In thews and bulk, but, as this temple waxes,<br />
  The inward service of the mind and soul<br />
  Grows wide withal. Perhaps he loves you now,<br />
  And now no soil nor cautel doth besmirch<br />
  The virtue of his will: but you must fear,<br />
  His greatness weigh'd, his will is not his own;<br />
  For he himself is subject to his birth:<br />
  He may not, as unvalued persons do,<br />
  Carve for himself; for on his choice depends<br />
  The safety and health of this whole state;<br />
  And therefore must his choice be circumscribed<br />
  Unto the voice and yielding of that body<br />
  Whereof he is the head. Then if he says he loves you,<br />
  It fits your wisdom so far to believe it<br />
  As he in his particular act and place<br />
  May give his saying deed; which is no further<br />
  Than the main voice of Denmark goes withal.<br />
  Then weigh what loss your honour may sustain,<br />
  If with too credent ear you list his songs,<br />
  Or lose your heart, or your chaste treasure open<br />
  To his unmaster'd importunity.<br />
  Fear it, Ophelia, fear it, my dear sister,<br />
  And keep you in the rear of your affection,<br />
  Out of the shot and danger of desire.<br />
  The chariest maid is prodigal enough,<br />
  If she unmask her beauty to the moon:<br />
  Virtue itself 'scapes not calumnious strokes:<br />
  The canker galls the infants of the spring,<br />
  Too oft before their buttons be disclosed,<br />
  And in the morn and liquid dew of youth<br />
  Contagious blastments are most imminent.<br />
  Be wary then; best safety lies in fear:<br />
  Youth to itself rebels, though none else near.</p>
<p onclick="myHandler(this)">OPHELIA</p>
<p> I shall the effect of this good lesson keep,<br />
  As watchman to my heart. But, good my brother,<br />
  Do not, as some ungracious pastors do,<br />
  Show me the steep and thorny way to heaven;<br />
  Whiles, like a puff'd and reckless libertine,<br />
  Himself the primrose path of dalliance treads,<br />
  And recks not his own rede.</p>
<p onclick="myHandler(this)">LAERTES</p>
<p> O, fear me not.<br />
  I stay too long: but here my father comes.</p>
<p> Enter POLONIUS</p>
<p>  <span>A double blessing is a double grace,<br />
  Occasion smiles upon a second leave.</span></p>
<p onclick="myHandler(this)">LORD POLONIUS</p>
<p> Yet here, Laertes! aboard, aboard, for shame!<br />
  The wind sits in the shoulder of your sail,<br />
  And you are stay'd for. There; my blessing with thee!<br />
  And these few precepts in thy memory<br />
  See thou character. Give thy thoughts no tongue,<br />
  Nor any unproportioned thought his act.<br />
  Be thou familiar, but by no means vulgar.<br />
  Those friends thou hast, and their adoption tried,<br />
  Grapple them to thy soul with hoops of steel;<br />
  But do not dull thy palm with entertainment<br />
  Of each new-hatch'd, unfledged comrade. Beware<br />
  Of entrance to a quarrel, but being in,<br />
  Bear't that the opposed may beware of thee.<br />
  Give every man thy ear, but few thy voice;<br />
  Take each man's censure, but reserve thy judgment.<br />
  Costly thy habit as thy purse can buy,<br />
  But not express'd in fancy; rich, not gaudy;<br />
  For the apparel oft proclaims the man,<br />
  And they in France of the best rank and station<br />
  Are of a most select and generous chief in that.<br />
  Neither a borrower nor a lender be;<br />
  For loan oft loses both itself and friend,<br />
  And borrowing dulls the edge of husbandry.<br />
  This above all: to thine ownself be true,<br />
  And it must follow, as the night the day,<br />
  Thou canst not then be false to any man.<br />
  Farewell: my blessing season this in thee!</p>
<p onclick="myHandler(this)">LAERTES</p>
<p> Most humbly do I take my leave, my lord.</p>
<p onclick="myHandler(this)">LORD POLONIUS</p>
<p> The time invites you; go; your servants tend.</p>
<p onclick="myHandler(this)">LAERTES</p>
<p> Farewell, Ophelia; and remember well<br />
  What I have said to you.</p>
<p onclick="myHandler(this)">OPHELIA</p>
<p> 'Tis in my memory lock'd,<br />
  And you yourself shall keep the key of it.</p>
<p onclick="myHandler(this)">LAERTES</p>
<p> Farewell.</p>
<p> Exit<br />
</p>

</body>
</html>